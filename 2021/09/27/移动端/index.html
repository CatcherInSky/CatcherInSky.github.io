<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"catcherinsky.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="基本概念单位显示分辨率（Display Resolution）简称分辨率，显示器显示的物理像素个数，通常用每行像素数列乘每列像素数列，例如：1024×768​ 逻辑分辨率逻辑像素的行乘列，在浏览器中，是 screan.width * screan.height。也可以在开发者工具-&gt;移动端调试的顶部看到。单位 pt。​ 物理像素（device pixel）分辨率相关，取决于硬件​ 逻辑像素（">
<meta property="og:type" content="article">
<meta property="og:title" content="移动端">
<meta property="og:url" content="http://catcherinsky.github.io/2021/09/27/%E7%A7%BB%E5%8A%A8%E7%AB%AF/index.html">
<meta property="og:site_name" content="Knowlegde Bases of CatcherInSky">
<meta property="og:description" content="基本概念单位显示分辨率（Display Resolution）简称分辨率，显示器显示的物理像素个数，通常用每行像素数列乘每列像素数列，例如：1024×768​ 逻辑分辨率逻辑像素的行乘列，在浏览器中，是 screan.width * screan.height。也可以在开发者工具-&gt;移动端调试的顶部看到。单位 pt。​ 物理像素（device pixel）分辨率相关，取决于硬件​ 逻辑像素（">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/webp/106384/1632732193303-e0fd9a0c-c159-4236-9bed-8911ff737a23.webp#clientId=u4afbb619-9660-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=u9ded6b1c&margin=%5Bobject%20Object%5D&originHeight=58&originWidth=810&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=u03bd358e-a0d0-4b03-b05c-264a25ebbe7&title=">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/106384/1632730484160-bcfaff3e-57d5-4962-90f6-6bda741a0c55.png#clientId=u4afbb619-9660-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=273&id=u4c667d83&margin=%5Bobject%20Object%5D&originHeight=612&originWidth=709&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=u42089862-6a3a-49ea-922e-cd0d16a63c8&title=&width=315.99310302734375">
<meta property="og:image" content="https://cdn.nlark.com/yuque/__latex/96d5bfe3f368e5b8436102174c5f21b3.svg#card=math&code=PPI%20%3D%20%5Cfrac%7B%5Csqrt%7B%E6%AF%8F%E8%A1%8C%E5%83%8F%E7%B4%A0%E6%95%B0%5E2%2B%E6%AF%8F%E5%88%97%E5%83%8F%E7%B4%A0%E6%95%B0%5E2%7D%7D%7B%E5%B1%8F%E5%B9%95%E5%B0%BA%E5%AF%B8%7D&id=hRk3i">
<meta property="og:image" content="https://cdn.nlark.com/yuque/__latex/35ba60ba7fdb8404813ea32fdd52cbe0.svg#card=math&code=dip%20%3D%20dpr%20%5Ctimes%20dp&id=kGn0l">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/106384/1632714728696-de7ba0a5-0047-4d69-9bc7-c5a44aa9ab42.png#clientId=u6d450a47-d6e5-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=QtJOR&margin=%5Bobject%20Object%5D&name=image.png&originHeight=115&originWidth=567&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&size=42296&status=done&style=none&taskId=u2fe8f1c6-e643-48b6-ab61-a2e18ab970c&title=">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/106384/1632732675308-5f2efb8b-a47c-4646-ba2d-68cab5813fff.png#clientId=u4afbb619-9660-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=u58762557&margin=%5Bobject%20Object%5D&name=image.png&originHeight=165&originWidth=498&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&size=46886&status=done&style=none&taskId=u3e2c6bf1-338b-4a1e-8352-1ed17ff4951&title=">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/106384/1634545832119-923c8aea-1526-4e0e-bb28-4fff9ba8a6a8.png#clientId=uc1f700a0-5be0-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=ue658f946&margin=%5Bobject%20Object%5D&originHeight=409&originWidth=742&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=uab73ce01-c128-4fb5-9b21-83391cc83c8&title=">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/106384/1632735090392-1fdbcc33-3c6c-44d3-8efa-6357e3f682d2.png#clientId=u4afbb619-9660-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=TA9DF&margin=%5Bobject%20Object%5D&originHeight=93&originWidth=657&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=u3097bc05-5cba-47e1-8a08-56f3ca4bca3&title=">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/webp/106384/1632732404864-aa2731c7-79cf-4f2b-8f3e-97a2af9d5514.webp#clientId=u4afbb619-9660-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=338&id=u893929f3&margin=%5Bobject%20Object%5D&originHeight=809&originWidth=1080&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=u256e3c9c-6f30-44fb-8268-bd7f36ea409&title=&width=450.76043701171875">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/webp/106384/1632732419026-82eba292-df36-4a37-b8a6-139ad6761ef7.webp#clientId=u4afbb619-9660-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=313&id=u585c73f4&margin=%5Bobject%20Object%5D&originHeight=809&originWidth=1080&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=ubec30074-0dbc-4b20-96a0-ec569352002&title=&width=417.76043701171875">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/106384/1634727278702-dd082cef-7f5c-4caa-a8f8-79c0116f6265.png#clientId=u285efd4d-d994-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=u412417d9&margin=%5Bobject%20Object%5D&name=image.png&originHeight=948&originWidth=1913&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&size=472760&status=done&style=none&taskId=u53382fe8-0524-4f4e-ba98-c4b8ba29753&title=">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/webp/106384/1635143563846-ed76e704-4433-413f-9d43-f35f0856fd40.webp#clientId=uac05b13d-fffe-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=ue0888fe3&margin=%5Bobject%20Object%5D&originHeight=397&originWidth=800&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=u51068920-e270-414f-9b38-6a3057dfb64&title=">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/106384/1635145364961-5993f1bc-ab41-4dc4-976a-575fb997925f.png#clientId=uac05b13d-fffe-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=ub7db8a29&margin=%5Bobject%20Object%5D&originHeight=344&originWidth=539&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=u99a6a7dd-a91e-4dd9-997c-5627e14511a&title=">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/106384/1635145408258-ddf12a44-0079-4f35-a3ec-d470355289f8.png#clientId=uac05b13d-fffe-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=u6ec63bf7&margin=%5Bobject%20Object%5D&originHeight=220&originWidth=490&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=u3e1604ed-0535-4499-9f3b-4b913861836&title=">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/106384/1635146175843-2f4f676b-aebf-4869-b980-bbd204c26668.png#clientId=uac05b13d-fffe-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=ua9d15089&margin=%5Bobject%20Object%5D&name=image.png&originHeight=850&originWidth=1080&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&size=352770&status=done&style=none&taskId=u8ca98386-5150-4ba4-a64d-24587a55a4e&title=">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/106384/1635146500942-9d88bb9c-4e44-4c0d-b588-0fe283ab5830.png#clientId=uac05b13d-fffe-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=u23df4fd8&margin=%5Bobject%20Object%5D&name=image.png&originHeight=607&originWidth=880&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&size=203277&status=done&style=none&taskId=ubc9ba243-0f4e-49d7-a317-70db89d3f30&title=">
<meta property="article:published_time" content="2021-09-27T03:34:05.000Z">
<meta property="article:modified_time" content="2022-02-14T11:41:04.113Z">
<meta property="article:author" content="CatcherInSky">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.nlark.com/yuque/0/2021/webp/106384/1632732193303-e0fd9a0c-c159-4236-9bed-8911ff737a23.webp#clientId=u4afbb619-9660-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=u9ded6b1c&margin=%5Bobject%20Object%5D&originHeight=58&originWidth=810&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=u03bd358e-a0d0-4b03-b05c-264a25ebbe7&title=">

<link rel="canonical" href="http://catcherinsky.github.io/2021/09/27/%E7%A7%BB%E5%8A%A8%E7%AB%AF/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>移动端 | Knowlegde Bases of CatcherInSky</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
  <meta name="referrer" content="same-origin">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Knowlegde Bases of CatcherInSky</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">CatcherInSky的前端知识库</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://catcherinsky.github.io/2021/09/27/%E7%A7%BB%E5%8A%A8%E7%AB%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="CatcherInSky">
      <meta itemprop="description" content="CatcherInSky的前端知识库">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Knowlegde Bases of CatcherInSky">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          移动端
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-09-27 11:34:05" itemprop="dateCreated datePublished" datetime="2021-09-27T11:34:05+08:00">2021-09-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-02-14 19:41:04" itemprop="dateModified" datetime="2022-02-14T19:41:04+08:00">2022-02-14</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><h3 id="单位"><a href="#单位" class="headerlink" title="单位"></a>单位</h3><h4 id="显示分辨率（Display-Resolution）"><a href="#显示分辨率（Display-Resolution）" class="headerlink" title="显示分辨率（Display Resolution）"></a>显示分辨率（Display Resolution）</h4><p>简称分辨率，显示器显示的物理像素个数，通常用每行像素数列乘每列像素数列，例如：1024×768<br>​</p>
<h4 id="逻辑分辨率"><a href="#逻辑分辨率" class="headerlink" title="逻辑分辨率"></a>逻辑分辨率</h4><p>逻辑像素的行乘列，在浏览器中，是 screan.width * screan.height。也可以在开发者工具-&gt;移动端调试的顶部看到。单位 pt。<br><img src="https://cdn.nlark.com/yuque/0/2021/webp/106384/1632732193303-e0fd9a0c-c159-4236-9bed-8911ff737a23.webp#clientId=u4afbb619-9660-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=u9ded6b1c&margin=%5Bobject%20Object%5D&originHeight=58&originWidth=810&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=u03bd358e-a0d0-4b03-b05c-264a25ebbe7&title="><br>​</p>
<h4 id="物理像素（device-pixel）"><a href="#物理像素（device-pixel）" class="headerlink" title="物理像素（device pixel）"></a>物理像素（device pixel）</h4><p>分辨率相关，取决于硬件<br>​</p>
<h4 id="逻辑像素（Density-Independent-Pixels）"><a href="#逻辑像素（Density-Independent-Pixels）" class="headerlink" title="逻辑像素（Density-Independent Pixels）"></a>逻辑像素（Density-Independent Pixels）</h4><p>又称设备独立像素，单位是 px，指独立于设备的用于逻辑上衡量像素的单位，用来描述<strong>图片尺寸</strong>或者<strong>css 样式</strong>。<br>为了保持在密度不同的屏幕上同一个元素物理尺寸一致，需要一个跟设备和像素密度无关的逻辑像素单位来衡量。<br>​</p>
<h4 id="像素密度（Dots-Per-Inch）"><a href="#像素密度（Dots-Per-Inch）" class="headerlink" title="像素密度（Dots Per Inch）"></a>像素密度（Dots Per Inch）</h4><p>每英寸像素数目，标准 dpi 为 160 px/inch，对应下图 mdpi。相同物理尺寸的屏幕 DPI 越高，每个像素点越小，图像更精细。为了同一个 DOM 元素在不同设备上物理尺寸相同，计算逻辑像素的时候需要乘上相应比例。<br><img src="https://cdn.nlark.com/yuque/0/2021/png/106384/1632730484160-bcfaff3e-57d5-4962-90f6-6bda741a0c55.png#clientId=u4afbb619-9660-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=273&id=u4c667d83&margin=%5Bobject%20Object%5D&originHeight=612&originWidth=709&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=u42089862-6a3a-49ea-922e-cd0d16a63c8&title=&width=315.99310302734375"></p>
<h4 id="像素密度-PPI-（Pixels-Per-Inch）"><a href="#像素密度-PPI-（Pixels-Per-Inch）" class="headerlink" title="像素密度 PPI （Pixels Per Inch）"></a>像素密度 PPI （Pixels Per Inch）</h4><p>DPI 的一种，指手机设备屏幕每英寸对角线上所拥有的像素（pixel）数目，公式如下：<br><img src="https://cdn.nlark.com/yuque/__latex/96d5bfe3f368e5b8436102174c5f21b3.svg#card=math&code=PPI%20%3D%20%5Cfrac%7B%5Csqrt%7B%E6%AF%8F%E8%A1%8C%E5%83%8F%E7%B4%A0%E6%95%B0%5E2%2B%E6%AF%8F%E5%88%97%E5%83%8F%E7%B4%A0%E6%95%B0%5E2%7D%7D%7B%E5%B1%8F%E5%B9%95%E5%B0%BA%E5%AF%B8%7D&id=hRk3i"><br>PPI 越高，图像越清晰，一般大于 300PPI 人眼无法分辨各像素，把大于 300 的屏幕称为视网膜屏（retina）。<br>以 iPhone6 为例，屏幕的显示分辨率为 750 _ 1334，经过计算 PPI 为 326，属于 xhdpi 设备，dpr 为 2，所以在 iPhone6 的逻辑分辨率为 375 _ 667。<br>​</p>
<h4 id="设备像素缩放比（Device-Pixel-Ratio）"><a href="#设备像素缩放比（Device-Pixel-Ratio）" class="headerlink" title="设备像素缩放比（Device Pixel Ratio）"></a>设备像素缩放比（Device Pixel Ratio）</h4><p>在浏览器中常用 dpr 来计算物理像素和逻辑像素的关系，公式如下<br><img src="https://cdn.nlark.com/yuque/__latex/35ba60ba7fdb8404813ea32fdd52cbe0.svg#card=math&code=dip%20%3D%20dpr%20%5Ctimes%20dp&id=kGn0l"><br><img src="https://cdn.nlark.com/yuque/0/2021/png/106384/1632714728696-de7ba0a5-0047-4d69-9bc7-c5a44aa9ab42.png#clientId=u6d450a47-d6e5-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=QtJOR&margin=%5Bobject%20Object%5D&name=image.png&originHeight=115&originWidth=567&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&size=42296&status=done&style=none&taskId=u2fe8f1c6-e643-48b6-ab61-a2e18ab970c&title=" alt="image.png"><br>面积上，假如 dpr 等于 2，一个逻辑像素由四个物理像素构成<br><img src="https://cdn.nlark.com/yuque/0/2021/png/106384/1632732675308-5f2efb8b-a47c-4646-ba2d-68cab5813fff.png#clientId=u4afbb619-9660-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=u58762557&margin=%5Bobject%20Object%5D&name=image.png&originHeight=165&originWidth=498&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&size=46886&status=done&style=none&taskId=u3e2c6bf1-338b-4a1e-8352-1ed17ff4951&title=" alt="image.png"><br>以 iPhone6 为例，屏幕的显示分辨率为 750 _ 1334，dpr 为 2，逻辑分辨率为 375 _ 667。设计师在给图的时候常给的是显示分辨率的 750，而实现的时候需要除以 dpr 2 才能得到逻辑像素的单位。而更高倍的 dpr 超出了 retina 的范围，可以通过简单调整比例来适配。<br><img src="https://cdn.nlark.com/yuque/0/2021/png/106384/1634545832119-923c8aea-1526-4e0e-bb28-4fff9ba8a6a8.png#clientId=uc1f700a0-5be0-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=ue658f946&margin=%5Bobject%20Object%5D&originHeight=409&originWidth=742&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=uab73ce01-c128-4fb5-9b21-83391cc83c8&title="><br>​</p>
<p>​</p>
<h3 id="视口（viewport）"><a href="#视口（viewport）" class="headerlink" title="视口（viewport）"></a>视口（viewport）</h3><p>通俗的讲，移动设备上的 viewport 就是设备的屏幕上能用来显示我们的网页的那一块区域。移动设备上的浏览器都会把自己默认的 viewport 设为 980px 或 1024px。<br><img src="https://cdn.nlark.com/yuque/0/2021/png/106384/1632735090392-1fdbcc33-3c6c-44d3-8efa-6357e3f682d2.png#clientId=u4afbb619-9660-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=TA9DF&margin=%5Bobject%20Object%5D&originHeight=93&originWidth=657&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=u3097bc05-5cba-47e1-8a08-56f3ca4bca3&title="></p>
<p>​</p>
<h4 id="布局视口（layout-viewport）"><a href="#布局视口（layout-viewport）" class="headerlink" title="布局视口（layout viewport）"></a>布局视口（layout viewport）</h4><p>可通过<code>document.documentElement.client[Width/Height]</code> 查询。而 vh vw 是基于布局视口的单位。媒体查询也是基于视口宽高而定。<br><img src="https://cdn.nlark.com/yuque/0/2021/webp/106384/1632732404864-aa2731c7-79cf-4f2b-8f3e-97a2af9d5514.webp#clientId=u4afbb619-9660-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=338&id=u893929f3&margin=%5Bobject%20Object%5D&originHeight=809&originWidth=1080&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=u256e3c9c-6f30-44fb-8268-bd7f36ea409&title=&width=450.76043701171875"></p>
<h4 id="视觉视口（visual-viewport）"><a href="#视觉视口（visual-viewport）" class="headerlink" title="视觉视口（visual viewport）"></a>视觉视口（visual viewport）</h4><p>视觉视口是屏幕的可视部分，由<code>window.inner[Width/Height]</code> 所组成的区域，不包括屏幕键盘，缩放外的区域。视觉视口比布局视口相同或者更小，并且可以变化。当使用触屏双指缩放，当动态键盘在手机上弹出的时候，或者之前隐藏的地址栏变得可见的时候，visual viewport 缩小了，但是 layout viewport 却保持不变。<br>​</p>
<p><img src="https://cdn.nlark.com/yuque/0/2021/webp/106384/1632732419026-82eba292-df36-4a37-b8a6-139ad6761ef7.webp#clientId=u4afbb619-9660-4&crop=0&crop=0&crop=1&crop=1&from=paste&height=313&id=u585c73f4&margin=%5Bobject%20Object%5D&originHeight=809&originWidth=1080&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=ubec30074-0dbc-4b20-96a0-ec569352002&title=&width=417.76043701171875"></p>
<h4 id="理想视口（ideal-viewport）"><a href="#理想视口（ideal-viewport）" class="headerlink" title="理想视口（ideal viewport）"></a>理想视口（ideal viewport）</h4><p>iPhone6 宽度为 375px，理想视口也跟宽度一致<br>假如浏览器设置 viewport 为 980px 的话，浏览器会出现横向滚动条。<br>把 dpr 改成 1 来缩放页面，会让网页元素会变小而无法分辨。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在缩放级别为100%时，1单位的CSS的pixel是严格相等于1单位的设备pixel</span><br></pre></td></tr></table></figure>

<p>​</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span></span></span><br><span class="line"><span class="tag">  <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0&quot;</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br></pre></td></tr></table></figure>

<p>这个标签可以将视口宽度与设备宽度对应，并设置初始缩放比，就是理想视口。<br>ideal viewport 的意义在于，无论在何种分辨率的屏幕下，那些针对 ideal viewport 而设计的网站，不需要用户手动缩放，也不需要出现横向滚动条，都可以完美的呈现给用户。</p>
<p>visual viewport = ideal viewport / scale<br>​</p>
<h2 id="适配"><a href="#适配" class="headerlink" title="适配"></a>适配</h2><h3 id="基本思路"><a href="#基本思路" class="headerlink" title="基本思路"></a>基本思路</h3><ul>
<li>选择一种尺寸作为设计和开发基准</li>
<li>定义一套适配规则，自动适配剩下的两种尺寸(其实不仅这两种，你懂的)</li>
<li>特殊适配效果给出设计效果</li>
</ul>
<p><strong>设计师常选择 iPhone6 作为基准设计尺寸，交付给前端的设计尺寸是按 750px * 1334px 为准(高度会随着内容多少而改变)。前端开发人员通过一套适配规则自动适配到其他的尺寸</strong></p>
<h3 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h3><h4 id="rem"><a href="#rem" class="headerlink" title="rem"></a>rem</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="property">fontSize</span> = <span class="string">`<span class="subst">$&#123;</span></span></span></span><br><span class="line"><span class="subst"><span class="string"><span class="language-javascript">    <span class="variable language_">document</span>.documentElement.clientWidth / <span class="number">7.5</span></span></span></span></span><br><span class="line"><span class="subst"><span class="string"><span class="language-javascript">  &#125;</span>px`</span>;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>布局视口等于理想视口后，假设以 750px 宽的设计图为标准的 html 标签的 font-size 为 100px，那么这个设计图总宽就有 7.5rem，所以 1rem = 100px。当布局视口为 375px 时，1rem = 50px。可以使用 scss 函数对 px 单位进行自动换算。<br>​</p>
<h4 id="flexible（动态-REM）"><a href="#flexible（动态-REM）" class="headerlink" title="flexible（动态 REM）"></a>flexible（动态 REM）</h4><p>Retina 屏将 viewport 缩放为 1 / dpr 最终产生的效果是，1px css 像素严格等于 1px 设备像素进而全局解决 1px 边框问题。在设定了布局视口与设备宽度一致后，采用 rem 为单位设置元素大小。对于不同屏幕，我们只需要动态修改根元素字体大小，元素大小就会同比例改变，从而做到页面的自动适配效果。通过 scss 函数对 px 单位进行自动换算。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isAndroid = win.<span class="property">navigator</span>.<span class="property">appVersion</span>.<span class="title function_">match</span>(<span class="regexp">/android/gi</span>);</span><br><span class="line"><span class="keyword">var</span> isIPhone = win.<span class="property">navigator</span>.<span class="property">appVersion</span>.<span class="title function_">match</span>(<span class="regexp">/iphone/gi</span>);</span><br><span class="line"><span class="keyword">var</span> devicePixelRatio = win.<span class="property">devicePixelRatio</span>;</span><br><span class="line"><span class="keyword">var</span> drp, scale;</span><br><span class="line"><span class="keyword">if</span> (isIPhone) &#123;</span><br><span class="line">  <span class="keyword">if</span> (devicePixelRatio &gt;= <span class="number">3</span> &amp;&amp; (!dpr || dpr &gt;= <span class="number">3</span>)) &#123;</span><br><span class="line">    dpr = <span class="number">3</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (devicePixelRatio &gt;= <span class="number">2</span> &amp;&amp; (!dpr || dpr &gt;= <span class="number">2</span>)) &#123;</span><br><span class="line">    dpr = <span class="number">2</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    dpr = <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// 其他设备下，仍旧使用1倍的方案</span></span><br><span class="line">  dpr = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">scale = <span class="number">1</span> / dpr;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">`&lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=<span class="subst">$&#123;scale&#125;</span>&quot;&gt;`</span>);</span><br></pre></td></tr></table></figure>

<h4 id="viewport"><a href="#viewport" class="headerlink" title="viewport"></a>viewport</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> scale = <span class="variable language_">window</span>.<span class="property">screen</span>.<span class="property">width</span> / <span class="number">750</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">`&lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=<span class="subst">$&#123;scale&#125;</span>&quot;&gt;`</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>直接缩放布局视口为视觉视口。因为 viewport 的设置是影响全局的，这样一来虽然可以直接将设计图量得的尺寸写到 css 上，但如果有一些需要地方不需要等比缩放而需要设置固定尺寸，比如要求在不同尺寸屏幕上显示固定大小的文字，或者你引进了一个库，里面的有样式你也不知道人家是按照怎样的适配方案进行适配的，那么到了你的项目里由于全局的 viewport 缩放，可能会影响到这个库的显示效果。</p>
<h4 id="vw-vh"><a href="#vw-vh" class="headerlink" title="vw/vh"></a>vw/vh</h4><p>大部分浏览器支持 vw vh 等单位后，使用 vw 来代替 rem 来进行开发。</p>
<ul>
<li>vw：是 Viewport’s width 的简写,1vw 等于 window.innerWidth 的 1%</li>
<li>vh：和 vw 类似，是 Viewport’s height 的简写，1vh 等于 window.innerHeihgt 的 1%</li>
<li>vmin：vmin 的值是当前 vw 和 vh 中较小的值</li>
<li>vmax：vmax 的值是当前 vw 和 vh 中较大的值</li>
</ul>
<p>流程：</p>
<ul>
<li>meta 标签设置 viewport 宽度为屏幕宽度；</li>
<li>开发环境配置 <a href="https://link.juejin.cn/?target=https://www.npmjs.com/package/postcss-px-to-viewport">postcss-px-to-viewport</a> 或者类似插件；</li>
<li>根据设计稿写样式，元素宽高直接取设计稿宽高即可，单位为 px，插件会将其转换为 vw；</li>
<li>段落文本也按照设计稿写，单位为 px，不需要转换为 vw；</li>
</ul>
<p>​</p>
<p>​</p>
<h4 id="响应式"><a href="#响应式" class="headerlink" title="响应式"></a>响应式</h4><p>通过媒体查询，在不同尺寸的屏幕下加载不同的样式文件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">media</span>=<span class="string">&quot;(max-width: 500px)&quot;</span> <span class="attr">href</span>=<span class="string">&quot;mobile.css&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">media</span>=<span class="string">&quot;(min-width: 980px)&quot;</span> <span class="attr">href</span>=<span class="string">&quot;pc.css&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>适用于：</p>
<ul>
<li>不同尺寸 html 结构变化不大</li>
<li>布局有较大差别</li>
</ul>
<p>​</p>
<p>​</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><h4 id="hashchange-与大图"><a href="#hashchange-与大图" class="headerlink" title="hashchange 与大图"></a>hashchange 与大图</h4><p>点击放大时，给图片用 a 标签包裹+href=”#XXX”，点击放大时触发 URL 添加，后退时返回原页面而不是原页面的上级页面，监听 hashchange 隐藏图片可解决</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=<span class="string">&quot;#imgSlider&quot;</span>&gt;触发大图&lt;/a&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 假设大图展示状态的hash为imgSlider</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(</span><br><span class="line">  <span class="string">&quot;hashchange&quot;</span>,</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> re = <span class="regexp">/#imgSlider$/</span>;</span><br><span class="line">    <span class="keyword">if</span> (re.<span class="title function_">test</span>(e.<span class="property">oldURL</span>) &amp;&amp; !re.<span class="title function_">test</span>(e.<span class="property">newURL</span>)) &#123;</span><br><span class="line">      <span class="comment">// 假设imgSlider为大图展示组件对象</span></span><br><span class="line">      <span class="comment">// 隐藏大图</span></span><br><span class="line">      imgSlider.<span class="title function_">hide</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="literal">false</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="click-touch-tap"><a href="#click-touch-tap" class="headerlink" title="click touch tap"></a>click touch tap</h4><p>移动端中，连续 click 的触发有 200ms ~ 300ms 的延迟<br>触摸事件，有 touchstart touchmove touchend touchcancel 参数是数组，代表多个手指<br>一般用于代替 click 事件，有 tap longTap singleTap doubleTap 四种之分<br>滑动事件，有 swipe swipeLeft swipeRight swipeUp swipeDown 五种之分<br>​</p>
<p>移动端，当用户点击屏幕时，会依次触发 touchstart，touchmove(0 次或多次)，touchend，mousemove，mousedown，mouseup，click。 touchmove 。只有当手指在屏幕发生移动的时候才会触发 touchmove 事件。在 touchstart ，touchmove 或者 touchend 事件中的任意一个调用 event.preventDefault，mouse 事件 以及 click 事件将不会触发。<br>​</p>
<p>​</p>
<h4 id="异形屏"><a href="#异形屏" class="headerlink" title="异形屏"></a>异形屏</h4><p><strong>苹果</strong><br>​</p>
<p>Apple 在发布 iPhone X 后引入了一个新概念：安全区域（Safe Area），安全区域指屏幕内不受圆角、刘海、底部小黑条等元素影响的可视窗口。如下图：<br><img src="https://cdn.nlark.com/yuque/0/2021/png/106384/1634727278702-dd082cef-7f5c-4caa-a8f8-79c0116f6265.png#clientId=u285efd4d-d994-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=u412417d9&margin=%5Bobject%20Object%5D&name=image.png&originHeight=948&originWidth=1913&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&size=472760&status=done&style=none&taskId=u53382fe8-0524-4f4e-ba98-c4b8ba29753&title=" alt="image.png"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;viewport-fit=cover&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"> <span class="selector-class">.safe-area</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">padding-top</span>: <span class="built_in">env</span>(safe-area-inset-top);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">padding-left</span>: <span class="built_in">env</span>(safe-area-inset-left);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">padding-right</span>: <span class="built_in">env</span>(safe-area-inset-right);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">padding-bottom</span>: <span class="built_in">env</span>(safe-area-inset-bottom);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"> &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p><strong>安卓</strong><br>​</p>
<ol>
<li>保留顶部安全高度，或者保留导航栏；</li>
<li>App 通过 jsbridge 告诉 H5 需要留出多少距离。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">bridge.getStatusBarHeight((&#123; height &#125;) =&gt; &#123;</span><br><span class="line">  <span class="type">const</span> <span class="variable">h</span> <span class="operator">=</span> height / window.devicePixelRatio; <span class="comment">// 根据需要转换成 CSS 中的 px 高度</span></span><br><span class="line">  <span class="type">const</span> <span class="variable">root</span> <span class="operator">=</span> document.documentElement;</span><br><span class="line">  root.style.setProperty(<span class="string">&#x27;--safe-top&#x27;</span>, `$&#123;h&#125;px`);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="1px-问题"><a href="#1px-问题" class="headerlink" title="1px 问题"></a>1px 问题</h4><p>iPhone6 屏幕像素 375px，分辨率宽度为 750，设计师设计稿也是 750px。在 retina 屏幕中，dpr 为 2，设计稿中的 1px，相当于 1 物理像素，0.5 逻辑像素。css 不支持 0.5px，所以只能通过缩放实现<br>推荐使用伪元素 + transform</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">.border-1px &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.border-1px::after &#123;</span><br><span class="line">  content: <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">  position: absolute;</span><br><span class="line">  width: <span class="number">200</span>%;</span><br><span class="line">  height: <span class="number">200</span>%;</span><br><span class="line">  border: 1px solid #ddd;</span><br><span class="line">  pointer-events: none;</span><br><span class="line">  transform: scale(<span class="number">0.5</span>);</span><br><span class="line">  transform-origin: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">selector &#123; background-image: url(no-image-set.png); background:</span><br><span class="line">image-set(url(foo-lowres.png) 1x,url(foo-highres.png) 2x) center; &#125;</span><br></pre></td></tr></table></figure>

<p>image-set 的语法，类似于不同的文本，图像也会显示成不同的：</p>
<ol>
<li>不支持 image-set：在不支持 image-set 的浏览器下，他会支持 background-image 图像，也就是说不支持 image-set 的浏览器下，他们解析 background-image 中的背景图像；</li>
<li>支持 image-set：如果你的浏览器支持 image-sete，而且是普通显屏下，此时浏览器会选择 image-set 中的@1x 背景图像；</li>
<li>Retina 屏幕下的 image-set：如果你的浏览器支持 image-set，而且是在 Retina 屏幕下，此时浏览器会选择 image-set 中的@2x 背景图像。</li>
</ol>
<h4 id="重力"><a href="#重力" class="headerlink" title="重力"></a>重力</h4><p>deviceMotionEvent 是 HTML5 新增的事件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">if (window.DeviceMotionEvent) &#123;</span><br><span class="line">window.addEventListener(&#x27;devicemotion&#x27;,deviceMotionHandler, false); &#125; var speed</span><br><span class="line">= 30;//speed var x = y = z = lastX = lastY = lastZ = 0; function</span><br><span class="line">deviceMotionHandler(eventData) &#123; var acceleration</span><br><span class="line">=event.accelerationIncludingGravity; x = acceleration.x; y = acceleration.y; z =</span><br><span class="line">acceleration.z; if(Math.abs(x-lastX) &gt; speed || Math.abs(y-lastY) &gt; speed ||</span><br><span class="line">Math.abs(z-lastZ) &gt; speed) &#123; //简单的摇一摇触发代码 alert(1); &#125; lastX = x; lastY</span><br><span class="line">= y; lastZ = z; &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(</span><br><span class="line">  <span class="string">&quot;onorientationchange&quot;</span> <span class="keyword">in</span> <span class="variable language_">window</span> ? <span class="string">&quot;orientationchange&quot;</span> : <span class="string">&quot;resize&quot;</span>,</span><br><span class="line">  <span class="function">() =&gt;</span> &#123;&#125;,</span><br><span class="line">  <span class="literal">false</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="屏幕旋转"><a href="#屏幕旋转" class="headerlink" title="屏幕旋转"></a>屏幕旋转</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/* 竖屏 */ @media all and (orientation: portrait) &#123; /* 自定义样式 */ &#125; /* 横屏</span><br><span class="line">*/ @media all and (orientation: landscape) &#123; /* 自定义样式 */ &#125;</span><br></pre></td></tr></table></figure>

<h4 id="触屏"><a href="#触屏" class="headerlink" title="触屏"></a>触屏</h4><p>touchstart -&gt; touchmove -&gt; touchend -&gt;touchcancel<br>​</p>
<p>​</p>
<h4 id="点击穿透（单击延迟）"><a href="#点击穿透（单击延迟）" class="headerlink" title="点击穿透（单击延迟）"></a>点击穿透（单击延迟）</h4><p>click 事件因为要等待双击确认，会有 300ms 的延迟。可以使用封装的 tap 事件来代替 click 事件。 tap 事件由 touchstart 事件 + touchmove 判断 + touchend 事件封装组成。</p>
<h4 id="滑动穿透"><a href="#滑动穿透" class="headerlink" title="滑动穿透"></a>滑动穿透</h4><p>移动端浏览器里出现弹窗时，若在屏幕上滑动能触发弹窗底下的内容跟着滚动。<br>首先明确解决滑动穿透需保持哪些交互行为，那就是除了弹窗内容能点击或滚动，其他内容都不能点击或滚动。<br>当打开弹窗时给<body>声明<code>position:fixed;left:0;width:100%</code>并动态声明 top。声明 position:fixed 会导致<body>滚动条消失，此时会发现虽然无滑动穿透，但页面滚动位置早已丢失。通过 scrollingElement 获取页面当前滚动条偏移量并将其取负值且赋值给 top，那么在视觉上就无任何变化。当关闭弹窗时移除<code>position:fixed;left:0;width:100%</code>和动态 top。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">body.static &#123; position: fixed; left: 0; width: 100%; &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> body = <span class="variable language_">document</span>.<span class="property">body</span>;</span><br><span class="line"><span class="keyword">const</span> openBtn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;open-btn&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> closeBtn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;close-btn&quot;</span>);</span><br><span class="line">openBtn.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  e.<span class="title function_">stopPropagation</span>();</span><br><span class="line">  <span class="keyword">const</span> scrollTop = <span class="variable language_">document</span>.<span class="property">scrollingElement</span>.<span class="property">scrollTop</span>;</span><br><span class="line">  body.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;static&quot;</span>);</span><br><span class="line">  body.<span class="property">style</span>.<span class="property">top</span> = <span class="string">`-<span class="subst">$&#123;scrollTop&#125;</span>px`</span>;</span><br><span class="line">&#125;);</span><br><span class="line">closeBtn.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  e.<span class="title function_">stopPropagation</span>();</span><br><span class="line">  body.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;static&quot;</span>);</span><br><span class="line">  body.<span class="property">style</span>.<span class="property">top</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="禁止滚动传播"><a href="#禁止滚动传播" class="headerlink" title="禁止滚动传播"></a>禁止滚动传播</h4><p>移动端浏览器当页面包含多个滚动区域时，滚完一个区域后若还存在滚动动量则会将这些剩余动量传播到下一个滚动区域，造成该区域也滚动起来。这种行为称为滚动传播。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.elem &#123; overscroll-behavior: contain; &#125;</span><br></pre></td></tr></table></figure>

<h4 id="禁止长按操作"><a href="#禁止长按操作" class="headerlink" title="禁止长按操作"></a>禁止长按操作</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;contextmenu&quot;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`禁用长按菜单`</span>);</span><br><span class="line">  e.<span class="title function_">preventDefault</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* &#123; /* pointer-events: none; */ /* 微信浏览器还需附加该属性才有效 */</span><br><span class="line">user-select: none; /* 禁止长按选择文字 */ -webkit-touch-callout: none; &#125;</span><br></pre></td></tr></table></figure>

<h4 id="手势"><a href="#手势" class="headerlink" title="手势"></a>手势</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 多指</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;touchstart&quot;</span>, <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (event.<span class="property">touches</span>.<span class="property">length</span> &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    event.<span class="title function_">preventDefault</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 手势</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;gesturestart&quot;</span>, <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">  event.<span class="title function_">preventDefault</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 连点</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> lastTouchEnd = <span class="number">0</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(</span><br><span class="line">  <span class="string">&quot;touchend&quot;</span>,</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>();</span><br><span class="line">    <span class="keyword">if</span> (now - lastTouchEnd &lt;= <span class="number">300</span>) &#123;</span><br><span class="line">      event.<span class="title function_">preventDefault</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    lastTouchEnd = now;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="literal">false</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="IOS-兼容"><a href="#IOS-兼容" class="headerlink" title="IOS 兼容"></a>IOS 兼容</h4><p>fixed 的文本框焦点居中?<br>​</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 改变Safari状态栏样式，可选default/black/black-translucent，需在上述全屏模式下才有效 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;apple-mobile-web-app-status-bar-style&quot;</span> <span class="attr">content</span>=<span class="string">&quot;black&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 添加页面启动占位图 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span></span></span><br><span class="line"><span class="tag">  <span class="attr">rel</span>=<span class="string">&quot;apple-touch-startup-image&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">href</span>=<span class="string">&quot;pig.jpg&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">media</span>=<span class="string">&quot;(device-width: 375px)&quot;</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 保存网站到桌面时添加图标 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;apple-touch-icon&quot;</span> <span class="attr">sizes</span>=<span class="string">&quot;76x76&quot;</span> <span class="attr">href</span>=<span class="string">&quot;pig.jpg&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 保存网站到桌面时添加图标且清除默认光泽 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;apple-touch-icon-precomposed&quot;</span> <span class="attr">href</span>=<span class="string">&quot;pig.jpg&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="其他浏览器"><a href="#其他浏览器" class="headerlink" title="其他浏览器"></a>其他浏览器</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 强制QQ浏览器竖屏 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;x5-orientation&quot;</span> <span class="attr">content</span>=<span class="string">&quot;portrait&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 强制QQ浏览器全屏 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;x5-fullscreen&quot;</span> <span class="attr">content</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 开启QQ浏览器应用模式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;x5-page-mode&quot;</span> <span class="attr">content</span>=<span class="string">&quot;app&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 强制UC浏览器竖屏 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;screen-orientation&quot;</span> <span class="attr">content</span>=<span class="string">&quot;portrait&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 强制UC浏览器全屏 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;full-screen&quot;</span> <span class="attr">content</span>=<span class="string">&quot;yes&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 开启UC浏览器应用模式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;browsermode&quot;</span> <span class="attr">content</span>=<span class="string">&quot;application&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 开启360浏览器极速模式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;renderer&quot;</span> <span class="attr">content</span>=<span class="string">&quot;webkit&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="让-active-有效，让-hover-无效"><a href="#让-active-有效，让-hover-无效" class="headerlink" title="让:active 有效，让:hover 无效"></a>让:active 有效，让:hover 无效</h4><p>有些元素的:active 可能会无效，而元素的:hover 在点击后会一直处于点击状态，需点击其他位置才能解除点击状态。给<body>注册一个空的 touchstart 事件可将两种状态反转。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ontouchstart</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h2><p>​</p>
<p>​</p>
<h2 id="开发模式"><a href="#开发模式" class="headerlink" title="开发模式"></a>开发模式</h2><p><img src="https://cdn.nlark.com/yuque/0/2021/webp/106384/1635143563846-ed76e704-4433-413f-9d43-f35f0856fd40.webp#clientId=uac05b13d-fffe-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=ue0888fe3&margin=%5Bobject%20Object%5D&originHeight=397&originWidth=800&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=u51068920-e270-414f-9b38-6a3057dfb64&title="></p>
<h3 id=""><a href="#" class="headerlink" title=""></a><img src="https://cdn.nlark.com/yuque/0/2021/png/106384/1635145364961-5993f1bc-ab41-4dc4-976a-575fb997925f.png#clientId=uac05b13d-fffe-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=ub7db8a29&margin=%5Bobject%20Object%5D&originHeight=344&originWidth=539&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=u99a6a7dd-a91e-4dd9-997c-5627e14511a&title="></h3><h3 id="Native"><a href="#Native" class="headerlink" title="Native"></a>Native</h3><p>使用原生程序编写出来的 App<br><strong>优点：</strong></p>
<ul>
<li>提供最佳用户体验，最优质的用户界面，流畅的交互</li>
<li>可以访问本地资源</li>
<li>可以调用移动硬件设备，比如摄像头、麦克风等</li>
</ul>
<p><strong>缺点：</strong></p>
<ul>
<li>开发成本高。每种移动操作系统都需要独立的开发项目，针对不同平台提供不同体验；</li>
<li>发布新版本慢。下载是用户控制的，很多用户不愿意下载更新（比如说，版本发布到了 3.0，但还是有很多 1.0 的用户，你可能就得继续维护 1.0 版本的 API）</li>
<li>应用商店发布审核周期长。安卓平台大概要 1~3 天，而 iOS 平台需要的时间更长</li>
</ul>
<h3 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h3><p>运行基于浏览器<br><strong>优点：</strong></p>
<ul>
<li>不需要安装包，节约手机空间</li>
<li>整体量级轻，开发成本低</li>
<li>不需要用户进行手动更新，由应用开发者直接在后台更新，推送到用户面前的都是全新版本，更便于业务的开展</li>
<li>基于浏览器，可以跨平台使用</li>
</ul>
<p><strong>缺点：</strong></p>
<ul>
<li>页面跳转费力，不稳定感更强。在网速受到限制时，很多时候出现卡顿或者卡死现象，交互效果受到限制</li>
<li>安全性相对较低，数据容易泄露或者被劫持</li>
</ul>
<p>​</p>
<h4 id="渐进式-Web-应用（Progressive-Web-Apps）"><a href="#渐进式-Web-应用（Progressive-Web-Apps）" class="headerlink" title="渐进式 Web 应用（Progressive Web Apps）"></a>渐进式 Web 应用（Progressive Web Apps）</h4><p>运用现代的 Web API 以及传统的渐进式增强策略来创建跨平台 Web 应用程序。可以通过 Web 技术编写出一个网页应用. 随后添加上 App Manifest 和 Service Worker 来实现 PWA 的安装和离线等功能。在移动端中，可以将页面作为 PWA 应用安装到设备上（苹果兼容性存在问题）。<br>​</p>
<p><strong>优点</strong></p>
<ul>
<li>可以将 app 的快捷方式放置到桌面上，全屏运行，与原生 app 无异</li>
<li>能够在各种网络环境下使用，包括网络差和断网条件下，不会显示 undefind</li>
<li>推送消息的能力</li>
<li>其本质是一个网页，没有原生 app 的各种启动条件，快速响应用户指令</li>
</ul>
<p>​</p>
<p><strong>缺点</strong></p>
<ul>
<li>支持率不高:现在 ios 手机端不支持 pwa，IE 也暂时不支持</li>
<li>Chrome 在中国桌面版占有率还是不错的，安卓移动端上的占有率却很低</li>
<li>各大厂商还未明确支持 pwa</li>
<li>依赖的 GCM 服务在国内无法使用</li>
<li>微信小程序的竞争</li>
</ul>
<p>​</p>
<h3 id="Hybrid"><a href="#Hybrid" class="headerlink" title="Hybrid"></a>Hybrid</h3><p>native 和 web 的混合，比如在 native app 中内置浏览器，合适的功能页面采用网页的形式呈现。比如一些营销页面等改动频繁的页面。</p>
<ul>
<li>无需更新 app 也能实现内容的更新。</li>
<li>在应用内部打开 Web 网页，省去了跳转浏览器的麻烦。</li>
<li>主要功能区相对稳定下，增加的功能区采用 Web 形式，使得迭代更加方便。</li>
</ul>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/106384/1635145408258-ddf12a44-0079-4f35-a3ec-d470355289f8.png#clientId=uac05b13d-fffe-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=u6ec63bf7&margin=%5Bobject%20Object%5D&originHeight=220&originWidth=490&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&status=done&style=none&taskId=u3e1604ed-0535-4499-9f3b-4b913861836&title="><br>Hybrid App 按网页语言与程序语言的混合，通常分为三种类型：多 View 混合型，单 View 混合型，Web 主体型。</p>
<h4 id="多-View-混合型"><a href="#多-View-混合型" class="headerlink" title="多 View 混合型"></a>多 View 混合型</h4><p>即 Native View 和 Web View 独立展示，交替出现。2012 年常见的 Hybrid App 是 Native View 与 WebView 交替的场景出现。这种应用混合逻辑相对简单。即在需要的时候，将 WebView 当成一个独立的 View（Activity）运行起来，在 WebView 内完成相关的展示操作。这种移动应用主体通常是 Native App，Web 技术只是起到补充作用。开发难度和 Native App 基本相当。<br>​</p>
<h4 id="单-View-混合型"><a href="#单-View-混合型" class="headerlink" title="单 View 混合型"></a>单 View 混合型</h4><p>即在同一个 View 内，同时包括 Native View 和 Web View。互相之间是覆盖（层叠）的关系。这种 Hybrid App 的开发成本较高，开发难度较大，但是体验较好。如百度搜索为代表的单 View 混合型移动应用，既可以实现充分的灵活性，又能实现较好的用户体验。<br>​</p>
<h4 id="Web-主体型"><a href="#Web-主体型" class="headerlink" title="Web 主体型"></a>Web 主体型</h4><p>即移动应用的主体是 Web View，主要以网页语言编写，穿插 Native 功能的 Hybrid App 开发类型。这种类型开发的移动应用体验相对而言存在缺陷，但整体开发难度大幅降低，并且基本可以实现跨平台。Web 主体型的移动应用用户体验的好坏，主要取决于底层中间件的交互与跨平台的能力。<br>​</p>
<h3 id="跨端开发"><a href="#跨端开发" class="headerlink" title="跨端开发"></a>跨端开发</h3><p><img src="https://cdn.nlark.com/yuque/0/2021/png/106384/1635146175843-2f4f676b-aebf-4869-b980-bbd204c26668.png#clientId=uac05b13d-fffe-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=ua9d15089&margin=%5Bobject%20Object%5D&name=image.png&originHeight=850&originWidth=1080&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&size=352770&status=done&style=none&taskId=u8ca98386-5150-4ba4-a64d-24587a55a4e&title=" alt="image.png"></p>
<h4 id="内嵌-Webview"><a href="#内嵌-Webview" class="headerlink" title="内嵌 Webview"></a>内嵌 Webview</h4><p>开发简单粗暴，在 APP 的 WebView 容器上我们能做更多的工作，例如通过容器来提供一些端内的能力，结合 Native 能力实现的并行数据加载，页面保活等等。但在移动平台上尤其是早期 WebView 的性能体验非常糟糕，差距主要来自于 Web 生态本身沉重的历史负担：</p>
<ul>
<li>W3C 标准作为开放技术标准，历史包袱多，逻辑复杂。</li>
<li>Web 标准在设计上不是 Design for Performance 的，导致很多地方难以进一步改善，例如 JS 执行和 Layout、渲染互斥无法并行，导致过长的 JS 执行任务会执行正常的渲染导致卡顿。</li>
<li>Web 的标准化在推进上也比较慢，新的能力可能要比较长的时间才能使用。</li>
</ul>
<h4 id="小程序"><a href="#小程序" class="headerlink" title="小程序"></a>小程序</h4><p>各家小程序出于商业上的考量主动在 Web 生态的基础上构造了相对封闭的生态。导致和 Web 生态格格不入。然而有多端小程序投放，或者同时投放小程序和 Web 端的场景难以接受使用。<br>由于小程序的端封闭且不受控，要解决小程序的跨端问题往往只能从研发框架层面出发。<br>​</p>
<h5 id="编译时方案"><a href="#编译时方案" class="headerlink" title="编译时方案"></a>编译时方案</h5><p>Taro，大致的原理可以解释为将 JSX 编译到小程序的 WXML/WXSS/JS 上，而这类框架的实现原理其实并非真的是一个 React 或者类 React 框架，而是把看起来像是 JSX 的模板通过静态编译的方式翻译成小程序自身的模板。<br>这样做的限制非常明显，那就是 JSX 是 JavaScript 的拓展语言（React Blog 写的是 is a syntax extension to JavaScript），而小程序所采用的 WXML 却是一个表达能力非常受限的模板语言，我们不可能完成从一个通用编程语言到模板语言的编译。<br>而静态编译类框架为了做到这一点，采取的方式就是限制开发者的写法，这也是为什么 taro 对 JSX 的写法做出了诸多限制。这一点直接导致了无穷尽的维护成本和严重受损的开发体验，而后 taro/next 也转向了运行时方案 + 静态编译优化的结合。<br>​</p>
<h5 id="运行时方案"><a href="#运行时方案" class="headerlink" title="运行时方案"></a>运行时方案</h5><p>remax，通过 React Reconciler（类似于 Rax Driver）我们可以让运行在小程序容器中的 React 不去直接操作 DOM，而是把操作的数据通过 setData 传递给小程序的 View 层映射到最后的界面上。<br>虽然 Remax、Rax 运行时、Taro Next 等几种方案不尽相同，但是思路大同小异，就是利用小程序模板一定程度上的动态化能力 + 类 React 框架的 VirtualDOM 来进行渲染。当然这种做法相对于小程序原生的渲染方式存在一定的性能损耗。<br>在部分场景下，这种损耗是值得的。这些运行时框架也都在陆续通过允许关掉编译产生的模板中的不用的属性、部分静态编译、虚拟列表等方式来改进性能。</p>
<h4 id="React-Native-Weex-类方案"><a href="#React-Native-Weex-类方案" class="headerlink" title="React-Native/Weex 类方案"></a>React-Native/Weex 类方案</h4><p>React-Native/Weex 这类方案通过尽可能的取长补短，通过结合 Web 的生态和 Native 的组件，让 JS 执行代码后用 Native 的组件进行渲染。<br>RN 就如下图中，把 JS 执行、布局（Yoga）和渲染（Native 组件）放在三个进程分开执行，避免了 JS 执行复杂任务时界面卡顿。通过抛弃 CSS 中的大量标准，只支持部分 flex 布局能力来减少布局和渲染的复杂度。<br><img src="https://cdn.nlark.com/yuque/0/2021/png/106384/1635146500942-9d88bb9c-4e44-4c0d-b588-0fe283ab5830.png#clientId=uac05b13d-fffe-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=u23df4fd8&margin=%5Bobject%20Object%5D&name=image.png&originHeight=607&originWidth=880&originalType=url%E2%88%B6=1&rotation=0&showTitle=false&size=203277&status=done&style=none&taskId=ubc9ba243-0f4e-49d7-a317-70db89d3f30&title=" alt="image.png"><br>缺陷：</p>
<ul>
<li>iOS/Android 双端本身不一致的组件和布局机制，让双端一致性难以得到保障。</li>
<li>依赖于 Native 机制也让一些 CSS 属性实现起来比较困难，例如老大难的 z-index 问题。</li>
</ul>
<h4 id="Flutter"><a href="#Flutter" class="headerlink" title="Flutter"></a>Flutter</h4><p>Flutter 要解决的问题和上面的方案不同，完全不打算继续在 Web 生态上借力，从设计之初也并没有把 Web 生态考虑进去。相比于 RN 依赖 Native View 渲染，Flutter 则是自绘的组件，直接通过 Skia 绘制到屏幕上。<br>由于可以完全发挥 GPU 的能力，也不需要去 Native 绕一圈。Flutter 理论上能做到更好的性能和两端一致性，这一意味着理论上未来可能基于 Flutter 的 JS 动态化方案能够在样式上支持的比 WEEX 更好。<br>​</p>
<h3 id="项目"><a href="#项目" class="headerlink" title="项目"></a>项目</h3><p>考虑到部门没有专门 native 开发，PWA 技术还不够成熟（重力感应处理麻烦，deviceMotionEvent 是 HTML5 新增的事件），只能采取 Web 主体的 Hybrid 开发或者跨端开发。而 Flutter、Weex 方案存在学习成本，小程序方案上线受限于微信审核。最后采用双端套壳浏览器隐藏 UI 指定访问 WEB 的 SPA 应用。<br>​</p>
<h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><p>缓存，Nginx 配置成不缓存 index.html<br>iOS 更新 15，我们忘记签名，导致不能使用<br>​</p>
<p>​</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/fngy123/article/details/48346705">https://blog.csdn.net/fngy123/article/details/48346705</a><br><a target="_blank" rel="noopener" href="https://juejin.cn/post/6959047144065990663">https://juejin.cn/post/6959047144065990663</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/2050/p/3877280.html">https://www.cnblogs.com/2050/p/3877280.html</a><br><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Viewport_concepts">https://developer.mozilla.org/zh-CN/docs/Web/CSS/Viewport_concepts</a><br><a target="_blank" rel="noopener" href="https://github.com/amfe/article/issues/17">https://github.com/amfe/article/issues/17</a><br><a target="_blank" rel="noopener" href="https://www.w3cplus.com/css/vw-for-layout.html">https://www.w3cplus.com/css/vw-for-layout.html</a><br><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000017784801">https://segmentfault.com/a/1190000017784801</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/49449089">https://zhuanlan.zhihu.com/p/49449089</a><br><a target="_blank" rel="noopener" href="https://juejin.cn/post/6921886428158754829">https://juejin.cn/post/6921886428158754829</a><br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/24bf070a4dcb">https://www.jianshu.com/p/24bf070a4dcb</a><br><a target="_blank" rel="noopener" href="http://www.woshipm.com/pd/321844.html">http://www.woshipm.com/pd/321844.html</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_37293612/article/details/56835694">https://blog.csdn.net/qq_37293612/article/details/56835694</a><br><a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/778539">https://developer.aliyun.com/article/778539</a></p>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/09/17/%E5%89%8D%E7%AB%AF%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/" rel="prev" title="前端文件处理">
      <i class="fa fa-chevron-left"></i> 前端文件处理
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/10/25/Vite/" rel="next" title="Vite">
      Vite <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">1.</span> <span class="nav-text">基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%95%E4%BD%8D"><span class="nav-number">1.1.</span> <span class="nav-text">单位</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%98%BE%E7%A4%BA%E5%88%86%E8%BE%A8%E7%8E%87%EF%BC%88Display-Resolution%EF%BC%89"><span class="nav-number">1.1.1.</span> <span class="nav-text">显示分辨率（Display Resolution）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E5%88%86%E8%BE%A8%E7%8E%87"><span class="nav-number">1.1.2.</span> <span class="nav-text">逻辑分辨率</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%A9%E7%90%86%E5%83%8F%E7%B4%A0%EF%BC%88device-pixel%EF%BC%89"><span class="nav-number">1.1.3.</span> <span class="nav-text">物理像素（device pixel）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E5%83%8F%E7%B4%A0%EF%BC%88Density-Independent-Pixels%EF%BC%89"><span class="nav-number">1.1.4.</span> <span class="nav-text">逻辑像素（Density-Independent Pixels）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%83%8F%E7%B4%A0%E5%AF%86%E5%BA%A6%EF%BC%88Dots-Per-Inch%EF%BC%89"><span class="nav-number">1.1.5.</span> <span class="nav-text">像素密度（Dots Per Inch）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%83%8F%E7%B4%A0%E5%AF%86%E5%BA%A6-PPI-%EF%BC%88Pixels-Per-Inch%EF%BC%89"><span class="nav-number">1.1.6.</span> <span class="nav-text">像素密度 PPI （Pixels Per Inch）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E5%A4%87%E5%83%8F%E7%B4%A0%E7%BC%A9%E6%94%BE%E6%AF%94%EF%BC%88Device-Pixel-Ratio%EF%BC%89"><span class="nav-number">1.1.7.</span> <span class="nav-text">设备像素缩放比（Device Pixel Ratio）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%86%E5%8F%A3%EF%BC%88viewport%EF%BC%89"><span class="nav-number">1.2.</span> <span class="nav-text">视口（viewport）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%83%E5%B1%80%E8%A7%86%E5%8F%A3%EF%BC%88layout-viewport%EF%BC%89"><span class="nav-number">1.2.1.</span> <span class="nav-text">布局视口（layout viewport）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%86%E8%A7%89%E8%A7%86%E5%8F%A3%EF%BC%88visual-viewport%EF%BC%89"><span class="nav-number">1.2.2.</span> <span class="nav-text">视觉视口（visual viewport）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%90%86%E6%83%B3%E8%A7%86%E5%8F%A3%EF%BC%88ideal-viewport%EF%BC%89"><span class="nav-number">1.2.3.</span> <span class="nav-text">理想视口（ideal viewport）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%82%E9%85%8D"><span class="nav-number">2.</span> <span class="nav-text">适配</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF"><span class="nav-number">2.1.</span> <span class="nav-text">基本思路</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%A1%88"><span class="nav-number">2.2.</span> <span class="nav-text">方案</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#rem"><span class="nav-number">2.2.1.</span> <span class="nav-text">rem</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#flexible%EF%BC%88%E5%8A%A8%E6%80%81-REM%EF%BC%89"><span class="nav-number">2.2.2.</span> <span class="nav-text">flexible（动态 REM）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#viewport"><span class="nav-number">2.2.3.</span> <span class="nav-text">viewport</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#vw-vh"><span class="nav-number">2.2.4.</span> <span class="nav-text">vw&#x2F;vh</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="nav-number">2.2.5.</span> <span class="nav-text">响应式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-number">2.3.</span> <span class="nav-text">其他</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#hashchange-%E4%B8%8E%E5%A4%A7%E5%9B%BE"><span class="nav-number">2.3.1.</span> <span class="nav-text">hashchange 与大图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#click-touch-tap"><span class="nav-number">2.3.2.</span> <span class="nav-text">click touch tap</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%82%E5%BD%A2%E5%B1%8F"><span class="nav-number">2.3.3.</span> <span class="nav-text">异形屏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1px-%E9%97%AE%E9%A2%98"><span class="nav-number">2.3.4.</span> <span class="nav-text">1px 问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%BE%E7%89%87"><span class="nav-number">2.3.5.</span> <span class="nav-text">图片</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%87%8D%E5%8A%9B"><span class="nav-number">2.3.6.</span> <span class="nav-text">重力</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B1%8F%E5%B9%95%E6%97%8B%E8%BD%AC"><span class="nav-number">2.3.7.</span> <span class="nav-text">屏幕旋转</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A6%E5%B1%8F"><span class="nav-number">2.3.8.</span> <span class="nav-text">触屏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%82%B9%E5%87%BB%E7%A9%BF%E9%80%8F%EF%BC%88%E5%8D%95%E5%87%BB%E5%BB%B6%E8%BF%9F%EF%BC%89"><span class="nav-number">2.3.9.</span> <span class="nav-text">点击穿透（单击延迟）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%BB%91%E5%8A%A8%E7%A9%BF%E9%80%8F"><span class="nav-number">2.3.10.</span> <span class="nav-text">滑动穿透</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A6%81%E6%AD%A2%E6%BB%9A%E5%8A%A8%E4%BC%A0%E6%92%AD"><span class="nav-number">2.3.11.</span> <span class="nav-text">禁止滚动传播</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A6%81%E6%AD%A2%E9%95%BF%E6%8C%89%E6%93%8D%E4%BD%9C"><span class="nav-number">2.3.12.</span> <span class="nav-text">禁止长按操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%8B%E5%8A%BF"><span class="nav-number">2.3.13.</span> <span class="nav-text">手势</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IOS-%E5%85%BC%E5%AE%B9"><span class="nav-number">2.3.14.</span> <span class="nav-text">IOS 兼容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="nav-number">2.3.15.</span> <span class="nav-text">其他浏览器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%A9-active-%E6%9C%89%E6%95%88%EF%BC%8C%E8%AE%A9-hover-%E6%97%A0%E6%95%88"><span class="nav-number">2.3.16.</span> <span class="nav-text">让:active 有效，让:hover 无效</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E5%8C%96"><span class="nav-number">3.</span> <span class="nav-text">优化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F"><span class="nav-number">4.</span> <span class="nav-text">开发模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">4.1.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Native"><span class="nav-number">4.2.</span> <span class="nav-text">Native</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Web"><span class="nav-number">4.3.</span> <span class="nav-text">Web</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B8%90%E8%BF%9B%E5%BC%8F-Web-%E5%BA%94%E7%94%A8%EF%BC%88Progressive-Web-Apps%EF%BC%89"><span class="nav-number">4.3.1.</span> <span class="nav-text">渐进式 Web 应用（Progressive Web Apps）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hybrid"><span class="nav-number">4.4.</span> <span class="nav-text">Hybrid</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A-View-%E6%B7%B7%E5%90%88%E5%9E%8B"><span class="nav-number">4.4.1.</span> <span class="nav-text">多 View 混合型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%95-View-%E6%B7%B7%E5%90%88%E5%9E%8B"><span class="nav-number">4.4.2.</span> <span class="nav-text">单 View 混合型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Web-%E4%B8%BB%E4%BD%93%E5%9E%8B"><span class="nav-number">4.4.3.</span> <span class="nav-text">Web 主体型</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%A8%E7%AB%AF%E5%BC%80%E5%8F%91"><span class="nav-number">4.5.</span> <span class="nav-text">跨端开发</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E5%B5%8C-Webview"><span class="nav-number">4.5.1.</span> <span class="nav-text">内嵌 Webview</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F"><span class="nav-number">4.5.2.</span> <span class="nav-text">小程序</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BC%96%E8%AF%91%E6%97%B6%E6%96%B9%E6%A1%88"><span class="nav-number">4.5.2.1.</span> <span class="nav-text">编译时方案</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E6%97%B6%E6%96%B9%E6%A1%88"><span class="nav-number">4.5.2.2.</span> <span class="nav-text">运行时方案</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#React-Native-Weex-%E7%B1%BB%E6%96%B9%E6%A1%88"><span class="nav-number">4.5.3.</span> <span class="nav-text">React-Native&#x2F;Weex 类方案</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Flutter"><span class="nav-number">4.5.4.</span> <span class="nav-text">Flutter</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE"><span class="nav-number">4.6.</span> <span class="nav-text">项目</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%AE%E9%A2%98"><span class="nav-number">4.6.1.</span> <span class="nav-text">问题</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-number">5.</span> <span class="nav-text">参考资料</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="CatcherInSky"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">CatcherInSky</p>
  <div class="site-description" itemprop="description">CatcherInSky的前端知识库</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">42</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/CatcherInSky" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;CatcherInSky" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:zhangchunxiang98@outlook.com" title="E-Mail → mailto:zhangchunxiang98@outlook.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CatcherInSky</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
